<div class="container">

    <div class="breadcrumb">
        <ul>
            <li>
                <a ng-click="navigateTo('#/')">{{strings['nav_home']}} ></a>
            </li>
            <li>Forgot Password</li>
        </ul>
    </div>

    <div class="subpage" ng-controller="ForgotPasswordController">
        <h1>
            <img src="img/logo.png" />
            <span>กู้คืนรหัสผ่าน</span>
        </h1>
        <form name="form" ng-if="!recover">
            <div class="form-group">
                <label>กรอก E-mail ของท่าน</label>
                <input type="text" name="email" ng-model="model.email" ng-required="true" class="form-control" />
                <p class="error-message margin-top animated fadeIn"
                   ng-if="form.email.$error.required && form.email.$dirty">
                    กรุณากรอก E-mail ของท่าน
                </p>
            </div>

            <p class="error-message margin-top animated fadeIn" ng-if="status.error">ไม่พบ E-mail ของท่านในระบบหรือระบบเกิดการขัดข้องกรุณาลองอีกครั้งหรือติดต่อผู้ดูแลระบบ</p>
            <p class="error-message margin-top animated fadeIn" ng-if="status.invalid">{{strings['invalid_form']}}</p>
            <p class="success-message margin-top animated fadeIn" ng-if="status.success">เราได้ส่ง E-mail เพื่อใช้ในการกู้รหัสผ่านไปยัง E-mail ของท่านแล้ว</p>

            <hr />

            <div class="btn-container">
                <button type="button" class="btn btn-danger" ng-click="submit(form)">
                    ส่ง
                </button>
            </div>
        </form>

        <form name="form" ng-if="recover">
            <div class="form-group">
                <label>กรอก Password ใหม่</label>
                <input type="password" name="newpassword" ng-model="model.password" ng-required="true" class="form-control" />
                <p class="error-message margin-top animated fadeIn"
                   ng-if="form.newpassword.$error.required && form.newpassword.$dirty">
                    กรุณากรอก Password ใหม่ของท่าน
                </p>
            </div>

            <div class="form-group">
                <label>ยืนยัน Password ใหม่</label>
                <input type="password" name="confirmpassword" ng-model="model.confirm_password" ng-required="true" class="form-control" />
                <p class="error-message margin-top animated fadeIn"
                   ng-if="form.confirmpassword.$error.required && form.confirmpassword.$dirty">
                    กรุณากรอก Password ใหม่ของท่านอีกครั้ง
                </p>
                <p class="error-message margin-top animated fadeIn"
                   ng-if="model.confirm_password != model.password && form.confirmpassword.$dirty">
                    Password ไม่ตรงกัน
                </p>
            </div>

            <p class="error-message margin-top animated fadeIn" ng-if="status.error">พบปัญหาบางอย่างกรุณาลองอีกครั้งหรือติดต่อผู้ดูแลระบบ</p>
            <p class="error-message margin-top animated fadeIn" ng-if="status.invalid">{{strings['invalid_form']}}</p>
            <p class="success-message margin-top animated fadeIn" ng-if="status.success">รหัสผ่านของท่านได้เปลี่ยนเป็นรหัสผ่านใหม่แล้วกรุณาลอง Login</p>

            <hr />

            <div class="btn-container">
                <button type="button" class="btn btn-danger" ng-click="changePassword(form)">
                    ส่ง
                </button>
            </div>
        </form>
    </div>
</div>